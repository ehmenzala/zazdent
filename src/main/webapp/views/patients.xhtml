<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="es" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>ZAZDent | Pacientes</title>
        <link rel="stylesheet" href="/zazdentfaces/css/style.css"/>
    </h:head>
    <h:body>
        <header class="header">
            <div class="header-content container">
                <h2 class="header-content__logo">ZAZDent</h2>
                <p class="header-content__title">
                    Intranet de Historias Clínicas Odontológicas
                </p>
            </div>
            <nav class="menu container">
                <ul class="menu__links" role="list">
                    <li class="menu__item">
                        <h:outputLink class="menu__link btn btn-secondary active" value="/zazdentfaces/faces/views/patients.xhtml">
                            Pacientes
                        </h:outputLink>
                    </li>
                    <li class="menu__item">
                        <h:outputLink class="menu__link btn btn-secondary" value="/zazdentfaces/faces/views/dentists.xhtml">
                            Dentistas
                        </h:outputLink>
                    </li>
                    <li class="menu__item">
                        <h:outputLink class="menu__link btn btn-secondary" value="/zazdentfaces/faces/views/specialties.xhtml">
                            Especialidades
                        </h:outputLink>
                    </li>
                    <li class="menu__item">
                        <h:outputLink class="menu__link btn btn-secondary" value="/zazdentfaces/faces/views/medical-histories.xhtml">
                            Historias Clínicas
                        </h:outputLink>
                    </li>
                    <li class="menu__item">
                        <h:outputLink class="menu__link btn btn-secondary" value="/zazdentfaces/faces/views/guardians.xhtml">
                            Apoderados
                        </h:outputLink>
                    </li>
                </ul>
            </nav>
        </header>
        <main class="container main">
            <p>Bievenido, ${sessionBean.username}</p>
            <div class="content-header">
                <h1 class="h1">Pacientes</h1>
                <p:commandButton class="reload-btn" ariaLabel="Recargar la página" value="" action="#{patientBean.reload()}" >
                    <img src="/zazdentfaces/assets/reload-icon.svg" alt="" />
                </p:commandButton>
            </div>
            <p>
                En esta sección se encuentran todos los registros de pacientes de la
                clínica. Recuerde recargar la página para propagar los cambios.
            </p>
            <h:form id="patients-table-form">
                <p:dataTable id="patients-table" lazy="false" value='#{patientBean.patients}' var='patient'>
                    <p:column headerText="ID" style="width: 10px;">
                        <h:outputText value='#{patient.id}' />
                    </p:column>
                    <p:column headerText="Nombre">
                        <h:outputText value='#{patient.name}' />
                    </p:column>
                    <p:column headerText="Ap. Paterno">
                        <h:outputText value='#{patient.lastNameFather}' />
                    </p:column>
                    <p:column headerText="Ap. Materno">
                        <h:outputText value='#{patient.lastNameMother}' />
                    </p:column>
                    <p:column headerText="Edad">
                        <h:outputText value='#{patient.age}' />
                    </p:column>
                    <p:column headerText="Nacimiento">
                        <h:outputText value='#{patient.birthdate}' />
                    </p:column>
                    <p:column headerText="DNI">
                        <h:outputText value='#{patient.dni}' />
                    </p:column>
                    <p:column headerText="Email">
                        <h:outputText value='#{patient.email}' />
                    </p:column>
                    <p:column headerText="Ocupación">
                        <h:outputText value='#{patient.occupation}' />
                    </p:column>
                    <p:column headerText="Teléfono">
                        <h:outputText value='#{patient.phone}' />
                    </p:column>
                    <p:column headerText="Estado Civil">
                        <h:outputText value='#{patient.maritalStatus}' />
                    </p:column>
                    <p:column headerText="Dirección">
                        <h:outputText value='#{patient.address}' />
                    </p:column>
                    <p:column headerText="Ver Historia Clínica">
                        <h:outputText value='Ver' />
                    </p:column>
                </p:dataTable>
            </h:form>
            <button type="button" class="open-create-dialog btn btn-primary">
                Nuevo
            </button>
            <button type="button" class="open-update-dialog btn btn-primary">
                Actualizar
            </button>
            <button type="button" class="open-delete-dialog btn btn-primary">
                Eliminar
            </button>
        </main>
        <dialog class="zazdent-create-dialog">
            <h2>Crear paciente</h2>
            <h:form>
                <p>Nombre</p>
                <h:inputText value="#{patientBean.patientName}" />
                <p>Apellido Paterno</p>
                <h:inputText value="#{patientBean.patientLastNameFather}" />
                <p>Apellido Materno</p>
                <h:inputText value="#{patientBean.patientLastNameMother}" />
                <p>Edad</p>
                <h:inputText value="#{patientBean.patientAge}" />
                <p>Lugar de Nacimiento</p>
                <h:inputText value="#{patientBean.patientBirthplace}" />
                <p>Nacimiento</p>
                <h:inputText value="#{patientBean.patientBirthdate}" />
                <p>DNI</p>
                <h:inputText value="#{patientBean.patientDni}" />
                <p>Email</p>
                <h:inputText value="#{patientBean.patientEmail}" />
                <p>Ocupación</p>
                <h:inputText value="#{patientBean.patientOccupation}" />
                <p>Teléfono</p>
                <h:inputText value="#{patientBean.patientPhone}" />
                <p>Estado civil</p>
                <h:inputText value="#{patientBean.patientMaritalStatus}" />
                <p>Dirección</p>
                <h:inputText value="#{patientBean.patientAddress}" />
                <p>Distrito</p>
                <h:inputText value="#{patientBean.patientDistrict}" />
                <h3>Datos de apoderado (Opcional)</h3>
                <p>ID de apoderado</p>
                <h:inputText value="#{patientBean.guardianId}" />
                <div>
                    <p:commandButton value="Confirmar" action="#{patientBean.addPatient()}" />
                </div>
            </h:form>
        </dialog>
        <dialog class="zazdent-update-dialog">
            <h2>Actualizar paciente</h2>
            <h:form>
                <p>ID</p>
                <h:inputText value="#{patientBean.patientId}" />
                <p>Nombre</p>
                <h:inputText value="#{patientBean.patientName}" />
                <p>Apellido Paterno</p>
                <h:inputText value="#{patientBean.patientLastNameFather}" />
                <p>Apellido Materno</p>
                <h:inputText value="#{patientBean.patientLastNameMother}" />
                <p>Edad</p>
                <h:inputText value="#{patientBean.patientAge}" />
                <p>Lugar de Nacimiento</p>
                <h:inputText value="#{patientBean.patientBirthplace}" />
                <p>Nacimiento</p>
                <h:inputText value="#{patientBean.patientBirthdate}" />
                <p>DNI</p>
                <h:inputText value="#{patientBean.patientDni}" />
                <p>Email</p>
                <h:inputText value="#{patientBean.patientEmail}" />
                <p>Ocupación</p>
                <h:inputText value="#{patientBean.patientOccupation}" />
                <p>Teléfono</p>
                <h:inputText value="#{patientBean.patientPhone}" />
                <p>Estado civil</p>
                <h:inputText value="#{patientBean.patientMaritalStatus}" />
                <p>Dirección</p>
                <h:inputText value="#{patientBean.patientAddress}" />
                <p>Distrito</p>
                <h:inputText value="#{patientBean.patientDistrict}" />
                <div>
                    <p:commandButton value="Confirmar" action="#{patientBean.updatePatient()}" />
                </div>
            </h:form>
        </dialog>
        <dialog class="zazdent-delete-dialog">
            <h2>Eliminar paciente</h2>
            <h:form>
                <p>ID</p>
                <h:inputText value="#{patientBean.patientId}" />
                <div>
                    <p:commandButton value="Confirmar" action="#{patientBean.removePatient()}" />
                </div>
            </h:form>
        </dialog>
        <script src="/zazdentfaces/js/dialogs.js"></script>
    </h:body>
</html>
